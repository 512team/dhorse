<link rel="stylesheet" href="../../lib/layui-v2.6.3/css/layui.css" media="all">
<link rel="stylesheet" href="../../css/public.css" media="all">
<div class="layuimini-main">
	<form class="layui-form layui-form-pane" action="">
		<div class="layui-form-item">
			<div class="layui-inline">
				<select name="appEnvId" id="appEnvId">
					<option value="1">容器监控</option>
					<option value="2">JVM监控</option>
				</select>
			</div>
			<input type="hidden" name="appId" id="appId"/>
			<div class="layui-inline">
				<button type="submit" class="layui-btn layui-btn-primary" lay-submit lay-filter="data-search-btn"><i class="layui-icon"></i> 搜 索</button>
			</div>
		</div>
	</form>
	<div class="layui-row layui-col-space15">
        <div id="echarts-records" style="background-color:#ffffff;min-height:400px;padding: 10px"></div>
    </div>
	<div class="layui-row layui-col-space15">
        <div id="echarts-records2" style="background-color:#ffffff;min-height:400px;padding: 10px"></div>
    </div>
</div>
<script src="../../lib/layui-v2.6.3/layui.js" charset="utf-8"></script>
<script src="../../js/lay-config.js?v=2.0.0" charset="utf-8"></script>
<script src="../../js/common.js" charset="utf-8"></script>
<script>
    layui.use(['layer', 'echarts'], function () {
        var $ = layui.jquery,
            layer = layui.layer,
            echarts = layui.echarts,
			appId = localStorage.getItem('appId_' + $("#userName").val());
		
        draw('echarts-records', 'CPU');
	});
	
	function draw(records, metricsName){
	
		var echartsRecords = echarts.init(document.getElementById(records), 'walden');
		
        var optionRecords = {
            title: {
                text: metricsName + '-使用情况'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
				x:'center',
				y:'bottom',
				padding:[100,0,0,0],
                data: ['最大值', '当前值']
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '10%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '最大值',
                    type: 'line',
                    stack: '总量',
					label: {
                        normal: {
                            show: true,
                            position: 'top'
                        }
                    },
                    areaStyle: {},
                    data: [120, 132, 101, 134, 90, 230, 210]
                },
                {
                    name: '当前值',
                    type: 'line',
					label: {
                        normal: {
                            show: true,
                            position: 'top'
                        }
                    },
                    areaStyle: {},
                    data: [220, 182, 191, 234, 290, 330, 310]
                }
            ]
        };
        echartsRecords.setOption(optionRecords);	
	}
</script>